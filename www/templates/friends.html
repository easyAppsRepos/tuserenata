<script src="lib/ionic-datepicker/dist/ionic-datepicker.bundle.min.js"></script>
<style type="text/css">
    
  

/*
Estilo de las reserveas*/

/* Empty. Add your own CSS if you like */


textarea {
    min-height: 130px;
}


.noline{
    border: 0px;
}
.reservaDatos {
    font-size: 14px !important; 
}
.reservas {
    border-radius: 4px !important;
    border: 1px solid #eceff1;
    margin: 0 !important;
}
.reservaDatos td {
    vertical-align: middle;
}
.reservaDatos  td i{
    font-size: 24px !important; 
    margin-right: 10px;
}
.reservas .item.danger, .reservas .row.danger {
    background: #fef8c5;
}
.reservas .item-header {
    background: #eceff1;
    padding: 5px 10px;
}
.reservas .item-header h2 {
    color: #000;
}
.reservas .item-header div div p {
    color: #333 !important;
}

/* COMENTARIOS */

.comentario.danger .item {
    background: #fef8c5 ;
}

/* GALERIA */
.galeria {
    position: relative;

}
.galeria img{
    width: 90%; 
    margin-left: 5%;
}
.galeria input[type="text"] {
    display: inline-block !important; 
    margin: -5px 0 15px 18px; 
    width: 79%;
}
.galeria .item-checkbox {
    border: 1px solid green !important;
    height: 80%;
    background: none;
    position: absolute;
    top: 5px !important;
    border: 0;
    padding-right:15px;
    padding-left:15px !important;
    left: 0;
    right: 10px;
    top: 3px;
    display: inline-block !important;
    vertical-align: top !important;
}
.galeria .item-checkbox .checkbox-icon {
    position: absolute !important;
    margin-top: 5px !important;
    right:10px !important;
    float: right;
}
.galeria .checkbox-icon:before {
    background: none;
    border: 3px solid #fff !important;
    border-radius: 50% !important;
}

/* USUARIOS */

.usuarios .item {
    padding: 0 ;
}
.usuarios .item-input {
    padding: 0 10px;
}

/* HORARIO */
.horario table {
    border-bottom: 1px solid rgba(0,0,0,.1);
    font-size: 16px;
    width: 100%;
}
.horario table:nth-child(even){
    background: rgba(200,200,200,.3);
}
.horario tr:nth-child(1) td{
    padding-top: 7px !important;
}
.horario tr:nth-child(2) td{
    padding-bottom: 10px;
}
.horario table tr:nth-child(1) td:nth-child(1) {
    font-weight: 600;
}
.horario table td {
    padding-left: 10px;
    text-align: left;
    vertical-align: middle !important;
    width: 20% !important;
}
.horario table select  {
    background: none;
    border: 0;
    border-bottom: 1px solid rgba(84, 111, 123, 0.47) !important;
}

.horario table .toggle input:checked + .track {
    border-color: rgba(0,0,0,.1) !important;
    background: #4db6ac;
}
.horario h4 {
    margin-left: 10px;
}

.horario .button-positive {
    background: #546f7b !important;
    margin: 5px;
}
.horario .list .item{
    border: 0 !important;
}
.horario .diasFestivos .input-label,.horario .diasFestivos .item-input{
    padding: 0 !important;
}
.horario .diasCierre {
    border: 0 !important;
    margin: 0 auto;
    background: none !important;
    width: 100%;
} 
.horario .diasCierre tr:nth-child(even){
    background: rgba(200,200,200,.3) !important;
}
.horario .diasCierre td{
    border-bottom: 1px solid #ccc !important;
    line-height: 30px !important;
    padding-top: 10px !important;
}
.horario .diasCierre td:nth-child(1){
    padding-left: 11px !important;
    font-weight: 400 !important;
    text-align: left !important;

}
.horario .diasCierre td:nth-child(2){

}
.horario .diasCierre td:nth-child(3){
    padding-left: 22px !important;
    color: red !important;
    text-align: left !important;
}
.horario .diasCierre td {
    padding: 0 !important;
    text-align: center;
}


.color-blue {
    background: #444 !important;
}
.list-color{
    background: #FAFAFA !important;
}
.list-ant-color{
    background: #E3E3E3 !important;
}
.list-color-select{
    background: #E8ECEF !important;
}
.fuente-t1{
    color:  #546f7b;
}
.bar-footer .tab-item {
    background: #37474f;
    color: #eceff1;
}
.borderDanger {
    border: 2px solid red !important;
}
.btn-text-center {
    background: #444;
    border-left:1px solid #fff;
    font-weight: 300;
    color: #eceff1;
    text-align: center;
    margin: 0;
}
.btn-text-center:active {
    font-weight: 300;
    color: #37474f;
    text-align: center;
    background: #eceff1;
}
.btn-text-center.red {
    color: #fff !important;
    background: #ea5351;
}
.btn-text-center.ligth {
    background: #888;
}
.checkDelImage {
    position: absolute;
    height: 30px;
    top: 5px;
    right: 20px;
    width: 30px;
}
.errorBox {
    border: 1px solid red;
    color: red;
    display: block;
    padding: 5px;
    text-align: center;
}
.CoColor {
    background: #546f7b !important;
}
.cfff {
    color: #fff !important;
}
.info {
    padding: 20px;
    font-weight: 600;
    text-align: center;
}
.padding_0 {
    margin: 0 !important;
    padding: 0 !important;
}
.push-number {
    display: inline-block;
    color: #fff;
    position:absolute;
    box-shadow: 0 0 5px 0 rgba(0,0,0,.3);
    background: red;
    border-radius: 100%;
    font-weight: 600;
    line-height: 20px;
    text-align: center !important;
    height: 20px !important;
    width: 20px !important;
    vertical-align: top;
    font-size: 16px;
}

.tabs-striped .tabs {
    background: #444 !important;
}

.tabs-striped.tabs-color-light .tab-item {
    color: rgba(255, 255, 255, 0.7) !important;
    font-weight: 700;
}
.tabs-striped.tabs-color-light .tab-item.active {
    border-bottom: 4px solid #fff !important;
    color: rgba(255, 255, 255, 1) !important;
    font-weight: 700;
}

.red {
    color: #a94442 !important;
}
.green {
    color: green !important;
}
.yellow {
    color: #8a6d3b !important;
}
.danger {
    background: #fef8c5 !important;
}

.input-label {
    font-weight: 600 !important;
}
.bar.bar-stable .title {
    color: #fff;
}

/*   Dias   */

.img-med{
    width:60%
}

.dias-push{
    right: 14px
}




</style>


 

  <div class="tabs-striped tabs-top  tabs-color-light">
    <div class="tabs">
      <a class="tab-item active"  ng-class="{active: tipoReservas == 'semana'}"  ng-click="tipoReservas = 'semana'; movetoSlide(0); getReservas();">
         Semana 
      </a>
      <a class="tab-item" ng-class="{active: tipoReservas == 'calendario'}"  ng-click="tipoReservas = 'calendario'; movetoSlide(0)">
         Calendario 
      </a>
      <a class="tab-item"  ng-class="{active: tipoReservas == 'eliminadas'}"  ng-click="tipoReservas = 'eliminadas'; movetoSlide(0)">
        Agregar <span class="push-number" ng-if="reservasEliminadas.length > 0">{{ reservasEliminadas.length }}</span>
      </a>
    </div>
  </div>



<ion-view view-title="Eventos">





 <ion-content style='background-color: #fafafa'>
<ion-slide-box  ng-init="disableSwipe()" on-slide-changed="slideHasChanged($index)" show-pager="false">
  <ion-slide >
<br><br>
<!--Dias-->
<div class="list reservas " ng-if="tipoReservas == 'semana'">
    <br>
    <a class="item item-icon-left item-icon-right noline fuente-t1"  style="color: #546f7b;font-weight: 500;" ng-click="obt_fecha_dia(1);nextSlide(); back_button_show=true">
        <i class="icon" > <img class="img-med" src="img/Dias/Lunes.png"> <span class="push-number dias-push" >3</span></i>
        Lunes
        <i class="icon ion-ios-arrow-right" ng-click="obt_fecha_dia(1);nextSlide(); back_button_show=true"></i>
    </a>
    <a class="item item-icon-left item-icon-right noline"  style="color: #546f7b;font-weight: 500;" ng-click="obt_fecha_dia(2);nextSlide(); back_button_show=true">
        <i c<i class="icon" > <img class="img-med" src="img/Dias/Martes.png"> <span class="push-number dias-push " ng-if="cont_dia[2] > 0">{{ cont_dia[2] }}</span></i>
        Martes
        <i class="icon ion-ios-arrow-right" ng-click="obt_fecha_dia(2);nextSlide(); back_button_show=true"></i>
    </a>
    <a class="item item-icon-left item-icon-right noline" style="color: #546f7b;font-weight: 500;" ng-click="obt_fecha_dia(3);nextSlide(); back_button_show=true">
        <i class="icon" > <img class="img-med" src="img/Dias/Miercoles.png"> <span class="push-number dias-push" ng-if="cont_dia[3] > 0">{{ cont_dia[3] }}</span></i>
        Miercoles
        <i class="icon ion-ios-arrow-right" ng-click="obt_fecha_dia(3);nextSlide(); back_button_show=true"></i>
    </a>
    <a class="item item-icon-left item-icon-right noline"  style="color: #546f7b;font-weight: 500;" ng-click="obt_fecha_dia(4);nextSlide(); back_button_show=true">
        <i class="icon" > <img class="img-med" src="img/Dias/Jueves.png"> <span class="push-number dias-push" ng-if="cont_dia[4] > 0">{{ cont_dia[4] }}</span></i>
        Jueves
        <i class="icon ion-ios-arrow-right" ng-click="obt_fecha_dia(4);nextSlide(); back_button_show=true"></i>
    </a>
    <a class="item item-icon-left item-icon-right noline"  style="color: #546f7b;font-weight: 500;" ng-click="obt_fecha_dia(5);nextSlide(); back_button_show=true">
        <i class="icon" > <img class="img-med" src="img/Dias/Viernes.png"> <span class="push-number dias-push" > 4</span></i>
        Viernes
        <i class="icon ion-ios-arrow-right" ng-click="obt_fecha_dia(5);nextSlide(); back_button_show=true"></i>
    </a>
    <a class="item item-icon-left item-icon-right noline"  style="color: #546f7b;font-weight: 500;" ng-click="obt_fecha_dia(6);nextSlide(); back_button_show=true">
        <i class="icon" > <img class="img-med" src="img/Dias/Sabado.png"> <span class="push-number dias-push" ng-if="cont_dia[6] > 0">{{ cont_dia[6] }}</span></i>
        Sabado
        <i class="icon ion-ios-arrow-right" ng-click="obt_fecha_dia(6);nextSlide(); back_button_show=true"></i>
    </a>
    <a class="item item-icon-left item-icon-right noline"  style="color: #546f7b;font-weight: 500;" ng-click="obt_fecha_dia(0);nextSlide(); back_button_show=true">
        <i class="icon" > <img class="img-med" src="img/Dias/Domingo.png"> <span class="push-number dias-push" ng-if="cont_dia[0] > 0">{{ cont_dia[0] }}</span></i>
        Domingo
        <i class="icon ion-ios-arrow-right" ng-click="obt_fecha_dia(0);nextSlide(); back_button_show=true"></i>
    </a>
</div>
    
    

    
<!-- lista reservas Calendario -->
    <br>
    <div class="row">
        <div class="col col-80 col-offset-10">
            <div class="" ng-if="tipoReservas == 'calendario'">
                    <onezone-datepicker datepicker-object="onezoneDatepicker">
                        <button class="button button-block button-outline button-positive show-onezone-datepicker" ng-show="false">
                            {{onezoneDatepicker.date | date:'dd MMMM yyyy'}} 
                        </button>
                    </onezone-datepicker>
                    
                <p class="info" ng-if="reservasAntiguas.length < 1 && tipoReservas == 'antiguas'">No hay reserrvas con fechas pasadas para mostrar.</p>
                <h5 style="color: #546f7b;font-weight: 500;">Detalles</h5>
                <div class="list reservas list-ant-color"  ng-repeat="(dia, reservas) in (reservasAntiguas | groupBy: 'fecha_reserva')" >
                    <div class="item item-icon-left list-color noline" style="color: #A0A5A7;font-weight: 300;" ng-click="change_view(dia)" ">
                        <i class="icon" > <img class="img-med" ng-src="{{(Dia_icon(dia))}}"></i> 
                        {{ dia | date:'d MMM' }} | {{contarTurno((dia | date:'EEEE'),reservas)[0]}} Res. Mediodia | {{contarTurno((dia | date:'EEEE'),reservas)[1]}} Res. Noche
                    </div>
                </div>
                <div class="list reservas list-color"  ng-repeat="(dia, reservas) in (reservasActivas | groupBy: 'fecha_reserva')" >
                    <div class="item item-icon-left list-color noline" style="color: #576268;font-weight: 500;" ng-click="change_view(dia)" ">
                        <i class="icon" > <img class="img-med" ng-src="{{(Dia_icon(dia))}}"></i> 
                        {{ dia | date:'d MMM' }} | {{contarTurno((dia | date:'EEEE'),reservas)[0]}} Res. Mediodia | {{contarTurno((dia | date:'EEEE'),reservas)[1]}} Res. Noche
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<!-- lista reservas eliminadas -->
    <div     ng-if="tipoReservas == 'eliminadas'" >
  
 <div style="margin-left:30px; margin-right:30px; border-bottom:2px solid #777"> <h4>Programar evento</h4></div>
  <div class="list list-inset" style="border:none;text-align: center">
  <label class="item item-input" style="border:solid 1px #ccc">
   <span class="input-label">Nombre</span>
    <input type="text" placeholder="Nombre de evento">
  </label>
  <label style="border:solid 1px #ccc" class="item item-input">
     <span class="input-label">Fecha</span>
    <input ng-model='evento.fecha' ng-click='openDatePicker()' type="date" placeholder="01/01/2017">
  </label>

    <label style="border:solid 1px #ccc" class="item item-input">
       <span class="input-label">Hora</span>
    <input ng-model='evento.hora' ng-click='openTimePicker()' type="text" placeholder="00:00pm">
  </label>

      <label style="border:solid 1px #ccc" class="item item-input">
       <span class="input-label">Lugar</span>
    <input ng-model='evento.lugar   '  type="text" placeholder="Medellin">
  </label>


<button style='color:#444 !important; margin-top: 20px;margin-bottom: 20px' class="button button-energized button-small">Agregar</button>
</div>
   <!--    <div class="item item-header">
        <h2>{{ reserva.nombre }}</h2>
        <div class="row padding_0">
            <div class="col"><p><b>El: </b>{{ reserva.fecha_reserva | date: 'dd-MMM-yyyy' }} </p></div>
            <div class="col"><p><b>A las: </b>{{ reserva.hora_reserva | date: 'HH:mm'}}</p></div>
        </div>
      </div>

      <div class="item item-body">
        <p ng-if="reserva.notas != ''">
          {{ reserva.notas }}
        </p>
            <table class="reservaDatos">
                <tr>
                    <td><i class="icon ion-ios-information-outline"></i></td>
                    <td><b>{{ reserva.numero_personas }}</b> personas en {{ reserva.zona }}</td>
                </tr>
                <tr>
                    <td><i class="icon ion-ios-telephone-outline"></i></td>
                    <td><a href="tel:{{ reserva.telefono }}">{{ reserva.telefono }}</a></td>
                </tr>
                <tr>
                    <td><i class="icon ion-ios-email-outline"></i></td>
                    <td><a href="mailto:{{ reserva.email }}">{{ reserva.email }}</a></td>
                </tr>
            </table>
      </div>

      <div class="row">
        <div class="col btn-text-center" ng-click="changeStateReserva(reserva.id, 1)">Activar</div>
        <div class="col btn-text-center" ng-click="deleteReserva(reserva.id)">Eliminar</div>
      </div> -->

    </div>
    <p class="info" ng-if="reservasEliminadas.length < 1 && tipoReservas == 'eliminadas'">La papelera está vacía</p>
<br><br><br><br><br>

</ion-slide>
<ion-slide>

<br><br><br>
<!--Antiguas-->
<div class="list card reservas"  ng-repeat="(dia, reservas) in (reservasAntiguas | groupBy: 'fecha_reserva')"  ng-show="(fecha_m | date:'ddMMyyyy') == (dia | date:'ddMMyyyy')">
    <div class="item item-icon-left">
        <i class="icon" > <img class="img-med" ng-src="{{(Dia_icon(dia))}}"></i> 
         {{ dia | date:'d MMM' }} | {{contarTurno((dia | date:'EEEE'),reservas)[0]}} Res. Mediodia | {{contarTurno((dia | date:'EEEE'),reservas)[1]}} Res. Noche
    </div>
    <div ng-repeat="reserva in reservas" ng-show="(fecha_m | date:'ddMMyyyy') == (dia | date:'ddMMyyyy')">
      <div class="item item-header list-ant-color">
       <span style="color: #A0A5A7;font-weight: 500;"> {{ reserva.nombre }}</span><span class="item-note" style="color: #A0A5A7;font-weight: 300;">{{ reserva.numero_personas }}<i class="icon ion-ios-person"></i> xxxxxxxx {{ reserva.zona }}</span>
        <div class="row padding_0">
            <div class="col"><p>{{ reserva.fecha_reserva | date: 'dd-MMM-yyyy' }} {{ reserva.hora_reserva | limitTo : 5}}h </p></div>
            <a style="padding-left: 30px;" ng-click="display =!display"><i class="icon ion-ios-arrow-down"></i></a>
        </div>
      </div>
      <div class="animate-hide" ng-show="display">
          <div class="item item-body list-color" ng-class="{danger: reserva.estado == 0}">
                <table class="reservaDatos ">
                    <tr>
                        <td><i class="icon ion-ios-telephone-outline"></i></td>
                        <td><a href="tel:{{ reserva.telefono }}"  style="color: #A0A5A7;font-weight: 300;">{{ reserva.telefono }}</a></td>
                    </tr>
                    <tr>
                        <td><i class="icon ion-ios-email-outline"></i></td>
                        <td><a href="mailto:{{ reserva.email }}"  style="color: #A0A5A7;font-weight: 300;">{{ reserva.email }}</a></td>
                    </tr>
                </table>
          </div>

          <div class="row" ng-class="{danger: reserva.estado == 0}">
            <div class="col btn-text-center" ng-click="showDetallesReserva(reserva.id)">Editar</div>
            <div class="col btn-text-center ligth" ng-if="reserva.estado == 1" ng-click="changeStateReserva(reserva.id, 0)">Cancelar</div>
            <div class="col btn-text-center ligth" ng-if="reserva.estado == 0" ng-click="changeStateReserva(reserva.id, 1)">Activar</div>
            <div class="col btn-text-center red " ng-click="changeStateReserva(reserva.id, 2)">Eliminar</div>
          </div>

        </div>
    </div>
</div>
<!--Activas-->
<div class="list card reservas"  >
    <div class="item item-icon-left">
        <i class="icon" > <img class="img-med" ng-src="{{(Dia_icon())}}"></i> 
          Reservas para el dia {{ fecha_m | date:'d MMM' }}
    </div>
    <div ng-repeat="reserva in reservasActivas" >
      <div style='    margin-top: 5px;' class="item item-header list-color-select">
       <span style="color: #576268;font-weight: 500;"> {{ reserva.nombre }}</span><span class="item-note" style="color: #576268;font-weight: 300;">{{ reserva.numero_personas }}<i class="icon ion-ios-person"></i> &nbsp;&nbsp;&nbsp;&nbsp; {{ reserva.zona }}</span>
        <div class="row padding_0">
            <div class="col"><p>{{ reserva.fecha_reserva | date: 'dd-MMM-yyyy' }} {{ reserva.hora_reserva | limitTo : 5}}h </p></div>
            <a ng-click="display =!display"><i class="icon ion-ios-arrow-down"></i></a>
        </div>
      </div>
      <div class="animate-hide" ng-show="display">
          <div class="item item-body list-color" ng-class="{danger: reserva.estado == 0}">
                <table class="reservaDatos ">
                    <tr>
                        <td><i class="icon ion-ios-telephone-outline"></i></td>
                        <td><a   style="color: #576268;font-weight: 300;">{{ reserva.telefono }}</a></td>
                    </tr>
                    <tr>
                        <td><i class="icon ion-ios-email-outline"></i></td>
                        <td><a   style="color: #576268;font-weight: 300;">{{ reserva.email }}</a></td>
                    </tr>

                                 <tr>
                        <td><i class="icon  ion-location"></i></td>
                        <td><a   style="color: #576268;font-weight: 300;">Abrir ubicacion</a></td>
                    </tr>

                        

                    


                    
                </table>
          </div>

          <div class="row" ng-class="{danger: reserva.estado == 0}">
            <div class="col btn-text-center" ng-click="showDetallesReserva(reserva.id)">Editar</div>
            <div class="col btn-text-center ligth" ng-if="reserva.estado == 1" ng-click="changeStateReserva(reserva.id, 0)">Cancelar</div>
            <div class="col btn-text-center ligth" ng-if="reserva.estado == 0" ng-click="changeStateReserva(reserva.id, 1)">Activar</div>
            <div class="col btn-text-center red " ng-click="changeStateReserva(reserva.id, 2)">Eliminar</div>
          </div>

        </div>
    </div>
    </div>
    <div class="list card reservas"    ng-show="false">
        <div class="item item-icon-left">
            <i class="icon" > <img class="img-med" ng-src="{{(Dia_icon(fecha_m,true))}}"></i> 
             {{ fecha_m | date:'d MMM' }} | 0 Res. Mediodia | 0 Res. Noche
             
        </div>
        
    </div>

    
    
</ion-slide>
  </ion-content>
</ion-view>
